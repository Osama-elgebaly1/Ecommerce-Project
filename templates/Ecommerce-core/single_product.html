{% extends "base.html" %}

{% comment %}

This page for browsing a singel product
  
{% endcomment %}

{% block content %}
{% include "parts/header.html" %}
<section class="py-5">
    <div class="container px-4 px-lg-5 my-5">
        <div class="row gx-4 gx-lg-5 align-items-center">
{% comment %} The image  {% endcomment %}
            
            <div class="col-md-6"><img class="card-img-top mb-5 mb-md-0" src="{{product.image.url}}" alt="..." /></div>
{% comment %} The name of the product  {% endcomment %}
            <div class="col-md-6">
                <h1 class="display-5 fw-bolder">{{product.name}} </h1>
                <div class="fs-5 mb-5">
                    <h5>
                        
{% comment %}  The logic of on sale products  {% endcomment %}
                    {% if product.on_sale %}

                        <span class="text-decoration-line-through ">{{product.price}}</span>
                        <span>${{product.price_after_discount}}</span>
                    {% else %}
                        <span class="text-decoration ">{{product.price}}</span>
                    {% endif %}                                    
                    </h5>
                  
                </div>
                <p class="lead">{{product.description}}</p>

    {% comment %}  Quantity box  {% endcomment %}
    <form method='POST' action="{% url "add_cart" product.id %}">
                {% csrf_token %}
                <div class="d-flex">
                    <div >Quantity: </div>
                    <div class="container">
                        <select name='quantity' class="form-select" id='cart-qty'>
                            <option selected >---</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                          </select> 
                    </div>
                   <button type='submit' class="btn btn-outline-dark flex-shrink-0" type="button">
                        <i class="bi-cart-fill me-1"></i>
                        Add to cart
                    </button>
                    
                </div>
    </form>

            </div>
        </div>
    </div>
</section>

{% include "parts/footer.html " %}
{% endblock content %}